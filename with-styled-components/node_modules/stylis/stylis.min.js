!function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(null):"function"==typeof define&&define.amd?define(e(null)):window.stylis=e(null)}(function e(a){"use strict";var c=/^\0+/g,r=/[\0\r\f]/g,s=/: */g,t=/zoo|gra/,i=/([,: ])(transform)/g,f=/,+\s*(?![^(]*[)])/g,n=/ +\s*(?![^(]*[)])/g,l=/ *[\0] */g,o=/,\r+?/g,h=/([\t\r\n ])*\f?&/g,u=/:global\(((?:[^\(\)\[\]]*|\[.*\]|\([^\(\)]*\))*)\)/g,d=/\W+/g,b=/@(k\w+)\s*(\S*)\s*/,k=/::(place)/g,g=/:(read-only)/g,p=/\s+(?=[{\];=:>])/g,A=/([[}=:>])\s+/g,w=/(\{[^{]+?);(?=\})/g,C=/\s{2,}/g,v=/([^\(])(:+) */g,m=/[svh]\w+-[tblr]{2}/,x=/\(\s*(.*)\s*\)/g,$=/([\s\S]*?);/g,y=/-self|flex-/g,O=/[^]*?(:[rp][el]a[\w-]+)[^]*/,j="-webkit-",z="-moz-",F="-ms-",N=59,S=125,B=123,W=40,q=41,D=91,E=93,G=10,H=13,I=9,J=64,K=32,L=38,M=45,P=95,Q=42,R=44,T=58,U=39,V=34,X=47,Y=62,Z=43,_=126,ee=0,ae=12,ce=11,re=107,se=109,te=115,ie=112,fe=111,ne=169,le=163,oe=100,he=112,ue=1,de=1,be=0,ke=1,ge=1,pe=1,Ae=0,we=0,Ce=0,ve=[],me=[],xe=0,$e=null,ye=-2,Oe=-1,je=0,ze=1,Fe=2,Ne=3,Se=0,Be=1,We="",qe="",De="";function Ee(e,a,s,t,i){for(var f,n,o=0,h=0,u=0,d=0,p=0,A=0,w=0,C=0,m=0,$=0,y=0,O=0,P=0,Ae=0,me=0,$e=0,ye=0,Oe=0,He=0,Me=s.length,Pe=Me-1,Qe="",Re="",Te="",Ue="",Ve="",Xe="";me<Me;){if(w=s.charCodeAt(me),me===Pe)if(h+d+u+o!==0){if(0!==h)w=h===X?G:X;d=u=o=0,Me++,Pe++}if(h+d+u+o===0){if(me===Pe){if($e>0)Re=Re.replace(r,"");if(Re.trim().length>0){switch(w){case K:case I:case N:case H:case G:break;default:Re+=s.charAt(me)}w=N}}if(1===ye)switch(w){case B:case S:case N:case V:case U:case W:case q:case R:ye=0;case I:case H:case G:case K:break;default:for(ye=0,He=me,p=w,me--,w=N;He<Me;)switch(s.charCodeAt(++He)){case G:case H:case N:me++,w=p;case T:case B:He=Me}}switch(w){case B:for(p=(Re=Re.trim()).charCodeAt(0),y=1,He=++me;me<Me;){switch(w=s.charCodeAt(me)){case B:y++;break;case S:y--}if(0===y)break;me++}if(Te=s.substring(He,me),p===ee)p=(Re=Re.replace(c,"").trim()).charCodeAt(0);switch(p){case J:if($e>0)Re=Re.replace(r,"");switch(A=Re.charCodeAt(1)){case oe:case se:case te:case M:f=a;break;default:f=ve}if(He=(Te=Ee(a,f,Te,A,i+1)).length,Ce>0&&0===He)He=Re.length;if(xe>0)if(f=Ge(ve,Re,Oe),n=Le(Ne,Te,f,a,de,ue,He,A,i),Re=f.join(""),void 0!==n)if(0===(He=(Te=n.trim()).length))A=0,Te="";if(He>0)switch(A){case te:Re=Re.replace(x,Ke);case oe:case se:case M:Te=Re+"{"+Te+"}";break;case re:if(Te=(Re=Re.replace(b,"$1 $2"+(Be>0?We:"")))+"{"+Te+"}",1===ge||2===ge&&Je("@"+Te,3))Te="@"+j+Te+"@"+Te;else Te="@"+Te;break;default:if(Te=Re+Te,t===he)Ue+=Te,Te=""}else Te="";break;default:Te=Ee(a,Ge(a,Re,Oe),Te,t,i+1)}Ve+=Te,O=0,ye=0,Ae=0,$e=0,Oe=0,P=0,Re="",Te="",w=s.charCodeAt(++me);break;case S:case N:if((He=(Re=($e>0?Re.replace(r,""):Re).trim()).length)>1){if(0===Ae)if((p=Re.charCodeAt(0))===M||p>96&&p<123)He=(Re=Re.replace(" ",":")).length;if(xe>0)if(void 0!==(n=Le(ze,Re,a,e,de,ue,Ue.length,t,i)))if(0===(He=(Re=n.trim()).length))Re="\0\0";switch((p=Re.charCodeAt(0))+(A=Re.charCodeAt(1))){case ee:break;case ne:case le:Xe+=Re+s.charAt(me);break;default:if(Re.charCodeAt(He-1)===T)break;Ue+=Ie(Re,p,A,Re.charCodeAt(2))}}O=0,ye=0,Ae=0,$e=0,Oe=0,Re="",w=s.charCodeAt(++me)}}switch(w){case H:case G:if(h+d+u+o+we===0)switch($){case q:case U:case V:case J:case _:case Y:case Q:case Z:case X:case M:case T:case R:case N:case B:case S:break;default:if(Ae>0)ye=1}if(h===X)h=0;else if(ke+O===0)$e=1,Re+="\0";if(xe*Se>0)Le(je,Re,a,e,de,ue,Ue.length,t,i);ue=1,de++;break;case N:case S:if(h+d+u+o===0){ue++;break}default:switch(ue++,Qe=s.charAt(me),w){case I:case K:if(d+o+h===0)switch(C){case R:case T:case I:case K:Qe="";break;default:if(w!==K)Qe=" "}break;case ee:Qe="\\0";break;case ae:Qe="\\f";break;case ce:Qe="\\v";break;case L:if(d+h+o===0&&ke>0)Oe=1,$e=1,Qe="\f"+Qe;break;case 108:if(d+h+o+be===0&&Ae>0)switch(me-Ae){case 2:if(C===ie&&s.charCodeAt(me-3)===T)be=C;case 8:if(m===fe)be=m}break;case T:if(d+h+o===0)Ae=me;break;case R:if(h+u+d+o===0)$e=1,Qe+="\r";break;case V:case U:if(0===h)d=d===w?0:0===d?w:d;break;case D:if(d+h+u===0)o++;break;case E:if(d+h+u===0)o--;break;case q:if(d+h+o===0)u--;break;case W:if(d+h+o===0){if(0===O)switch(2*C+3*m){case 533:break;default:y=0,O=1}u++}break;case J:if(h+u+d+o+Ae+P===0)P=1;break;case Q:case X:if(d+o+u>0)break;switch(h){case 0:switch(2*w+3*s.charCodeAt(me+1)){case 235:h=X;break;case 220:He=me,h=Q}break;case Q:if(w===X&&C===Q){if(33===s.charCodeAt(He+2))Ue+=s.substring(He,me+1);Qe="",h=0}}}if(0===h){if(ke+d+o+P===0&&t!==re&&w!==N)switch(w){case R:case _:case Y:case Z:case q:case W:if(0===O){switch(C){case I:case K:case G:case H:Qe+="\0";break;default:Qe="\0"+Qe+(w===R?"":"\0")}$e=1}else switch(w){case W:O=++y;break;case q:if(0==(O=--y))$e=1,Qe+="\0"}break;case I:case K:switch(C){case ee:case B:case S:case N:case R:case ae:case I:case K:case G:case H:break;default:if(0===O)$e=1,Qe+="\0"}}if(Re+=Qe,w!==K&&w!==I)$=w}}m=C,C=w,me++}if(He=Ue.length,Ce>0)if(0===He&&0===Ve.length&&0===a[0].length==false)if(t!==se||1===a.length&&(ke>0?qe:De)===a[0])He=a.join(",").length+2;if(He>0){if(f=0===ke&&t!==re?function(e){for(var a,c,s=0,t=e.length,i=Array(t);s<t;++s){for(var f=e[s].split(l),n="",o=0,h=0,u=0,d=0,b=f.length;o<b;++o){if(0===(h=(c=f[o]).length)&&b>1)continue;if(u=n.charCodeAt(n.length-1),d=c.charCodeAt(0),a="",0!==o)switch(u){case Q:case _:case Y:case Z:case K:case W:break;default:a=" "}switch(d){case L:c=a+qe;case _:case Y:case Z:case K:case q:case W:break;case D:c=a+c+qe;break;case T:switch(2*c.charCodeAt(1)+3*c.charCodeAt(2)){case 530:if(pe>0){c=a+c.substring(8,h-1);break}default:if(o<1||f[o-1].length<1)c=a+qe+c}break;case R:a="";default:if(h>1&&c.indexOf(":")>0)c=a+c.replace(v,"$1"+qe+"$2");else c=a+c+qe}n+=c}i[s]=n.replace(r,"").trim()}return i}(a):a,xe>0)if(void 0!==(n=Le(Fe,Ue,f,e,de,ue,He,t,i))&&0===(Ue=n).length)return Xe+Ue+Ve;if(Ue=f.join(",")+"{"+Ue+"}",ge*be!=0){if(2===ge&&!Je(Ue,2))be=0;switch(be){case fe:Ue=Ue.replace(g,":"+z+"$1")+Ue;break;case ie:Ue=Ue.replace(k,"::"+j+"input-$1")+Ue.replace(k,"::"+z+"$1")+Ue.replace(k,":"+F+"input-$1")+Ue}be=0}}return Xe+Ue+Ve}function Ge(e,a,c){var r=a.trim().split(o),s=r,t=r.length,i=e.length;switch(i){case 0:case 1:for(var f=0,n=0===i?"":e[0]+" ";f<t;++f)s[f]=He(n,s[f],c,i).trim();break;default:f=0;var l=0;for(s=[];f<t;++f)for(var h=0;h<i;++h)s[l++]=He(e[h]+" ",r[f],c,i).trim()}return s}function He(e,a,c,r){var s=a,t=s.charCodeAt(0);if(t<33)t=(s=s.trim()).charCodeAt(0);switch(t){case L:switch(ke+r){case 0:case 1:if(0===e.trim().length)break;default:return s.replace(h,"$1"+e.trim())}break;case T:switch(s.charCodeAt(1)){case 103:if(pe>0&&ke>0)return s.replace(u,"$1").replace(h,"$1"+De);break;default:return e.trim()+s.replace(h,"$1"+e.trim())}default:if(c*ke>0&&s.indexOf("\f")>0)return s.replace(h,(e.charCodeAt(0)===T?"":"$1")+e.trim())}return e+s}function Ie(e,a,c,r){var l,o=0,h=e+";",u=2*a+3*c+4*r;if(944===u)return function(e){var a=e.length,c=e.indexOf(":",9)+1,r=e.substring(0,c).trim(),s=e.substring(c,a-1).trim();switch(e.charCodeAt(9)*Be){case 0:break;case M:if(110!==e.charCodeAt(10))break;default:for(var t=s.split((s="",f)),i=0,c=0,a=t.length;i<a;c=0,++i){for(var l=t[i],o=l.split(n);l=o[c];){var h=l.charCodeAt(0);if(1===Be&&(h>J&&h<90||h>96&&h<123||h===P||h===M&&l.charCodeAt(1)!==M))switch(isNaN(parseFloat(l))+(-1!==l.indexOf("("))){case 1:switch(l){case"infinite":case"alternate":case"backwards":case"running":case"normal":case"forwards":case"both":case"none":case"linear":case"ease":case"ease-in":case"ease-out":case"ease-in-out":case"paused":case"reverse":case"alternate-reverse":case"inherit":case"initial":case"unset":case"step-start":case"step-end":break;default:l+=We}}o[c++]=l}s+=(0===i?"":",")+o.join(" ")}}if(s=r+s+";",1===ge||2===ge&&Je(s,1))return j+s+s;return s}(h);else if(0===ge||2===ge&&!Je(h,1))return h;switch(u){case 1015:return h.charCodeAt(9)===M?j+h+h:h;case 951:return 116===h.charCodeAt(3)?j+h+h:h;case 963:return 110===h.charCodeAt(5)?j+h+h:h;case 1009:if(100!==h.charCodeAt(4))break;case 969:case 942:return j+h+h;case 978:return j+h+z+h+h;case 1019:case 983:return j+h+z+h+F+h+h;case 883:return h.charCodeAt(8)===M?j+h+h:h;case 932:if(h.charCodeAt(4)===M)switch(h.charCodeAt(5)){case 103:return j+"box-"+h.replace("-grow","")+j+h+F+h.replace("grow","positive")+h;case 115:return j+h+F+h.replace("shrink","negative")+h;case 98:return j+h+F+h.replace("basis","preferred-size")+h}return j+h+F+h+h;case 964:return j+h+F+"flex-"+h+h;case 1023:if(99!==h.charCodeAt(8))break;return l=h.substring(h.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),j+"box-pack"+l+j+h+F+"flex-pack"+l+h;case 1005:return t.test(h)?h.replace(s,":"+j)+h.replace(s,":"+z)+h:h;case 1e3:switch(o=(l=h.substring(13).trim()).indexOf("-")+1,l.charCodeAt(0)+l.charCodeAt(o)){case 226:l=h.replace(m,"tb");break;case 232:l=h.replace(m,"tb-rl");break;case 220:l=h.replace(m,"lr");break;default:return h}return j+h+F+l+h;case 1017:if(-1===h.indexOf("sticky",9))return h;case 975:switch(o=(h=e).length-10,u=(l=(33===h.charCodeAt(o)?h.substring(0,o):h).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|l.charCodeAt(7))){case 203:if(l.charCodeAt(8)<111)break;case 115:h=h.replace(l,j+l)+";"+h;break;case 207:case 102:h=h.replace(l,j+(u>102?"inline-":"")+"box")+";"+h.replace(l,j+l)+";"+h.replace(l,F+l+"box")+";"+h}return h+";";case 938:if(h.charCodeAt(5)===M)switch(h.charCodeAt(6)){case 105:return l=h.replace("-items",""),j+h+j+"box-"+l+F+"flex-"+l+h;case 115:return j+h+F+"flex-item-"+h.replace(y,"")+h;default:return j+h+F+"flex-line-pack"+h.replace("align-content","").replace(y,"")+h}break;case 953:if((o=h.indexOf("-content",9))>0)if(109===h.charCodeAt(o-3)&&45!==h.charCodeAt(o-4))return l=h.substring(o-3),"width:"+j+l+"width:"+z+l+"width:"+l;break;case 962:if(h=j+h+(102===h.charCodeAt(5)?F+h:"")+h,c+r===211&&105===h.charCodeAt(13)&&h.indexOf("transform",10)>0)return h.substring(0,h.indexOf(";",27)+1).replace(i,"$1"+j+"$2")+h}return h}function Je(e,a){var c=e.indexOf(1===a?":":"{"),r=e.substring(0,3!==a?c:10),s=e.substring(c+1,e.length-1);return $e(2!==a?r:r.replace(O,"$1"),s,a)}function Ke(e,a){var c=Ie(a,a.charCodeAt(0),a.charCodeAt(1),a.charCodeAt(2));return c!==a+";"?c.replace($," or ($1)").substring(4):"("+a+")"}function Le(e,a,c,r,s,t,i,f,n){for(var l,o=0,h=a;o<xe;++o)switch(l=me[o].call(Pe,e,h,c,r,s,t,i,f,n)){case void 0:case false:case true:case null:break;default:h=l}switch(h){case void 0:case false:case true:case null:case a:break;default:return h}}function Me(e){for(var a in e){var c=e[a];switch(a){case"keyframe":Be=0|c;break;case"global":pe=0|c;break;case"cascade":ke=0|c;break;case"compress":Ae=0|c;break;case"semicolon":we=0|c;break;case"preserve":Ce=0|c;break;case"prefix":if($e=null,!c)ge=0;else if("function"!=typeof c)ge=1;else ge=2,$e=c}}return Me}function Pe(a,c){if(void 0!==this&&this.constructor===Pe)return e(a);var s=a,t=s.charCodeAt(0);if(t<33)t=(s=s.trim()).charCodeAt(0);if(Be>0)We=s.replace(d,t===D?"":"-");if(t=1,1===ke)De=s;else qe=s;var i,f=[De];if(xe>0)if(void 0!==(i=Le(Oe,c,f,f,de,ue,0,0,0))&&"string"==typeof i)c=i;var n=Ee(ve,f,c,0,0);if(xe>0)if(void 0!==(i=Le(ye,n,f,f,de,ue,n.length,0,0))&&"string"!=typeof(n=i))t=0;return We="",De="",qe="",be=0,de=1,ue=1,Ae*t==0?n:n.replace(r,"").replace(p,"").replace(A,"$1").replace(w,"$1").replace(C," ")}if(Pe.use=function e(a){switch(a){case void 0:case null:xe=me.length=0;break;default:switch(a.constructor){case Array:for(var c=0,r=a.length;c<r;++c)e(a[c]);break;case Function:me[xe++]=a;break;case Boolean:Se=0|!!a}}return e},Pe.set=Me,void 0!==a)Me(a);return Pe});